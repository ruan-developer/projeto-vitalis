<div class="modal-overlay" [ngClass]="{ 'show': ativo }">
  <div class="modal-container" [ngClass]="{ 'show': ativo }">
    <button class="fechar-btn" (click)="fechar()">
      <svg fill="var(--verde-3)" height="1rem" width="auto" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 460.775 460.775" xml:space="preserve">
        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
        <g id="SVGRepo_iconCarrier">
          <path
            d="M285.08,230.397L456.218,59.27c6.076-6.077,6.076-15.911,0-21.986L423.511,4.565c-2.913-2.911-6.866-4.55-10.992-4.55 c-4.127,0-8.08,1.639-10.993,4.55l-171.138,171.14L59.25,4.565c-2.913-2.911-6.866-4.55-10.993-4.55 c-4.126,0-8.08,1.639-10.992,4.55L4.558,37.284c-6.077,6.075-6.077,15.909,0,21.986l171.138,171.128L4.575,401.505 c-6.074,6.077-6.074,15.911,0,21.986l32.709,32.719c2.911,2.911,6.865,4.55,10.992,4.55c4.127,0,8.08-1.639,10.994-4.55 l171.117-171.12l171.118,171.12c2.913,2.911,6.866,4.55,10.993,4.55c4.128,0,8.081-1.639,10.992-4.55l32.709-32.719 c6.074-6.075,6.074-15.909,0-21.986L285.08,230.397z">
          </path>
        </g>
      </svg>
    </button>

    <h2>Crie sua conta</h2>

    <form [formGroup]="form" (ngSubmit)="registrar()">

      <div class="input-individual">
        <div class="input-icon-wrapper" [class.filled]="form.get('nome')?.value">
          <input type="text" id="nome" formControlName="nome" />
          <label class="placeholder-label" for="nome">Nome completo</label>
          <svg class="input-icon" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 448 512">
            <path
              d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z" />
          </svg>
          <div class="input-error-message" *ngIf="form.get('nome')?.invalid && form.get('nome')?.touched">
            Nome é obrigatório.
          </div>
        </div>
      </div>

      <div class="input-individual">
        <div class="input-icon-wrapper" [class.filled]="form.get('email')?.value">
          <input type="email" id="email" formControlName="email" />
          <label class="placeholder-label" for="email">E-mail</label>
          <svg class="input-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 400">
            <g transform="translate(0, -24)">
              <path
                d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z" />
            </g>
          </svg>
          <div class="input-error-message" *ngIf="form.get('email')?.invalid && form.get('email')?.touched">
            <div *ngIf="form.get('email')?.errors?.['required']">E-mail é obrigatório.</div>
            <div *ngIf="form.get('email')?.errors?.['email']">E-mail inválido.</div>
          </div>
        </div>
      </div>

      <div class="input-individual">
        <div class="input-icon-wrapper" [class.filled]="form.get('senha')?.value">
          <input type="password" id="senha" formControlName="senha" />
          <label class="placeholder-label" for="senha">Senha</label>
          <svg class="input-icon" xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 448 512">
          <path
            d="M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z" />
        </svg>
          <div class="input-error-message" *ngIf="form.get('senha')?.invalid && form.get('senha')?.touched">
            <div *ngIf="  form.get('senha')?.errors?.['required']">Senha é obrigatória.</div>
            <div *ngIf="form.get('senha')?.errors?.['minlength']">
              Senha deve ter pelo menos 8 caracteres.
            </div>
          </div>
          <div id="password-error" class="input-error-message-out" *ngIf="form.get('senha')?.errors?.['senhaFraca']">
            Senha deve conter maiúscula, minúscula e número.
          </div>
        </div>
      </div>

      <div class="input-individual">
        <div class="input-icon-wrapper" [class.filled]="form.get('telefone')?.value">
          <input type="tel" id="telefone" formControlName="telefone" mask="(00) 00000-0000" maxlength="15"/>
          <label class="placeholder-label" for="telefone">Telefone</label>
          <svg class="input-icon" xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512">
          <path
            d="M164.9 24.6c-7.7-18.6-28-28.5-47.4-23.2l-88 24C12.1 30.2 0 46 0 64C0 311.4 200.6 512 448 512c18 0 33.8-12.1 38.6-29.5l24-88c5.3-19.4-4.6-39.7-23.2-47.4l-96-40c-16.3-6.8-35.2-2.1-46.3 11.6L304.7 368C234.3 334.7 177.3 277.7 144 207.3L193.3 167c13.7-11.2 18.4-30 11.6-46.3l-40-96z" />
        </svg>
          <div class="input-error-message" *ngIf="form.get('telefone')?.invalid && form.get('telefone')?.touched">
            Telefone é obrigatório.
          </div>
        </div>
      </div>

      <div id="genero-data">
        <div class="input-individual">
          <div class="input-icon-wrapper" [class.filled]="form.get('dataNascimento')?.value">
            <input type="date" id="dataNascimento" formControlName="dataNascimento" />
            <label id="estatico" class="placeholder-label" for="dataNascimento">Data de nascimento</label>
          </div>
            <div class="input-error-message-out"
            *ngIf="form.get('dataNascimento')?.invalid && form.get('dataNascimento')?.touched">
            Data de nascimento é obrigatória.
          </div>
        </div>

        <div class="input-individual">
          <div class="input-icon-wrapper filled" [class.open]="dropdownAberto">
            <div class="custom-dropdown" (click)="alternarDropdown()">
              {{ generoSelecionado || 'Selecione o gênero' }}
              <svg class="dropdown-icon" viewBox="0 0 20 20">
                <path d="M5 7l5 5 5-5H5z" />
              </svg>
            </div>
            <ul class="dropdown-opcoes" *ngIf="dropdownAberto">
              <li (click)="selecionarGenero('Masculino')">Masculino</li>
              <li (click)="selecionarGenero('Feminino')">Feminino</li>
              <li (click)="selecionarGenero('Outro')">Outro</li>
            </ul>
            <input type="hidden" formControlName="generoSelecionado" />
            <label class="placeholder-label">Gênero</label>
          </div>
          <div class="input-error-message-out"
            *ngIf="form.get('generoSelecionado')?.invalid && form.get('generoSelecionado')?.touched">
            Gênero é obrigatório.
          </div>
        </div>
      </div>

      <button id="login-btn" type="submit">Registrar</button>
    </form>

  </div>
</div>